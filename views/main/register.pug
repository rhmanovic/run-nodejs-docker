doctype html
html(lang="ar" dir="rtl")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title تسجيل حساب جديد
    link(rel="stylesheet" href="/css/bootstrap.min.css")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css")
    link(rel="stylesheet" href="/stylesheets/main/register.css")
    style.
      @font-face {
        font-family: 'Alexfontnormal';
        src: url('/fonts/Alexandria-Regular.ttf') format('truetype'); 
        font-weight: normal;
        font-style: normal;
      }  
      body {
        font-family: 'Alexfontnormal', sans-serif;
        background-color: #f8f9fa;
      }
      .card {
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
      }
      .text-end {
        text-align: right;
      }
      .logo-icon {
        max-width: 120px;
      }

  body
    .container-fluid.min-vh-100.d-flex.flex-column
      // Using flexbox to center content vertically in full height container
      .row.flex-grow-1.align-items-stretch



        // Right column - Registration form
        .col-lg-6.bg-white.d-flex.align-items-center
          .w-100.px-4
            a(href='/')
              img.logo-icon.m-4(src='/img/logoArabat.png', alt='Logo')
            .py-3
              .row
                .col
                  button#loginBtn.btn.btn-outline-secondary.w-100.py-3 تسجيل الدخول
                .col
                  button#registerBtn.btn.btn-outline-secondary.w-100.py-3.active إنشاء حساب

            #registerForm.p-4
              form(method='POST' action='/manager/register' novalidate)
                h5.mb-4.text-end الاسم الكريم
                .input-group.mb-4
                  input.form-control.text-end.py-3(type="text" placeholder="أدخل الاسم الكريم" name="name" required value=formData && formData.name ? formData.name : '')
                
                h5.mb-4.text-end اسم المشروع
                .input-group.mb-4
                  input.form-control.text-end.py-3(type="text" placeholder="أدخل اسم المشروع" name="project" required value=formData && formData.project ? formData.project : '')

                h5.mb-4.text-end البريد الإلكتروني
                .input-group.mb-4
                  input.form-control.text-end.py-3(type="email" placeholder="أدخل البريد الإلكتروني" name="email" required value=formData && formData.email ? formData.email : '')

                h5.mb-4.text-end رقم الجوال
                .phone-input-container.mb-4.position-relative
                  input.form-control.text-end.py-3.ps-5(type="tel" placeholder="أدخل رقم الجوال" name="phone" required value=formData && formData.phone ? formData.phone : '')
                  .country-code +965
                  style.
                    .phone-input-container {
                      position: relative;
                    }
                    .country-code {
                      position: absolute;
                      left: 15px;
                      top: 50%;
                      transform: translateY(-50%);
                      color: #555;
                      font-weight: bold;
                      pointer-events: none;
                      border-right: 1px solid #ddd;
                      padding-right: 10px;
                    }
                    input[name="phone"] {
                      padding-left: 65px !important;
                    }

                h5.mb-4.text-end كلمة المرور
                .password-input-container.mb-4.position-relative
                  input.form-control.text-end.py-3(type="password" placeholder="أدخل كلمة المرور" name="password" required)
                  .password-icon
                    i.fas.fa-eye-slash
                  style.
                    .password-input-container {
                      position: relative;
                    }
                    .password-icon {
                      position: absolute;
                      left: 15px;
                      top: 50%;
                      transform: translateY(-50%);
                      color: #555;
                      cursor: pointer;
                      border-right: 1px solid #ddd;
                      padding-right: 10px;
                    }


                .form-group.mb-4
                  if error
                    .alert.alert-danger.error-alert.mb-3= error
                  button.btn.btn-primary.w-100.py-3(type="submit") تسجيل

                .text-center.mb-3
                  small بالتسجيل فأنت توافق مع سياسات عربات

            #loginForm.p-4.d-none
              form(method='POST' action='/login' novalidate)
                h5.mb-4.text-end البريد الإلكتروني
                .input-group.mb-4
                  input.form-control.text-end.py-3(type="email" placeholder="أدخل البريد الإلكتروني" name="email" required)

                h5.mb-4.text-end كلمة المرور
                .password-input-container.mb-4.position-relative
                  input.form-control.text-end.py-3(type="password" placeholder="أدخل كلمة المرور" name="password" required)
                  .password-icon
                    i.fas.fa-eye-slash

                .form-group.mb-4
                  button.btn.btn-primary.w-100.py-3(type="submit") تسجيل الدخول

                .text-center.mb-3
                  a(href="#") نسيت كلمة المرور؟

        .col-lg-6.d-none.d-lg-flex.align-items-center.justify-content-center
          img.img-fluid(src='/img/main/register-illustration.png', alt='Register Illustration', style="max-height: 80%;")
    script(src="/js/jquery.min.js")
    script(src="/js/bootstrap.bundle.min.js")
    script(src="/js/main/registerValidation.js")
    script.
      document.addEventListener('DOMContentLoaded', function() {
        const togglePassword = document.querySelectorAll('.fa-eye-slash');
        const loginBtn = document.getElementById('loginBtn');
        const registerBtn = document.getElementById('registerBtn');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');

        // Toggle between login and register forms
        loginBtn.addEventListener('click', function() {
          loginForm.classList.remove('d-none');
          registerForm.classList.add('d-none');
          loginBtn.classList.add('active');
          registerBtn.classList.remove('active');
        });

        registerBtn.addEventListener('click', function() {
          registerForm.classList.remove('d-none');
          loginForm.classList.add('d-none');
          registerBtn.classList.add('active');
          loginBtn.classList.remove('active');
        });
      });